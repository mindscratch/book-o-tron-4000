This page describes some conventions used in the data layer.

= Testing =
The testing in the data layer makes use of DbUnit and XML files for testing purposes.  There is an abstract class, _[http://code.google.com/p/book-o-tron-4000/source/browse/trunk/bookotron.data/src/test/java/bookotron/data/dao/impl/AbstractDaoTest.java AbstractDaoTest.java]_ which handles setting up the database specifics for testing.

By convention, it looks in _src\test\resources\dbunit-test-data\_ for an XML file is named after the unit test class and appended with _Data.xml_.

For example if a test class is named _AuthorDaoTest_ then a data file should exist in _src\test\resources\dbunit-test-data_ with the name _AuthorDaoTestData.xml_.

= DAO Implementation =

== Creating a New Instance ==
To create a new instance of the _[http://code.google.com/p/book-o-tron-4000/source/browse/trunk/bookotron.data/src/main/java/bookotron/data/dao/impl/BaseDao.java BaseDao]_ for a particular entity you have two options:

{{{
// Notice Author is given as the entity since IAuthor isn't represented in the database
IBaseDao<IAuthor> dao = new BaseDao<Author>();
}}}

OR

{{{
// this option primarily exists because Spring (as of 2.5.x) doesn't support generic
// types in the XML configuration
IBaseDao<IAuthor> dao = new BaseDao(Author.class);
}}}

== FindAll Method ==
The _[http://code.google.com/p/book-o-tron-4000/source/browse/trunk/bookotron.data/src/main/java/bookotron/data/dao/impl/BaseDao.java BaseDao]_ class creates a [http://java.sun.com/javaee/5/docs/api/javax/persistence/Query.html Query] used in the implementation of the _findAll_ method.

It will first look for a [http://java.sun.com/javaee/5/docs/api/javax/persistence/NamedQuery.html NamedQuery] whose _name_ ends with "findAll" (case insensitive).  If it can't find that it will create a query based on the table name.

Add your content here.


= Details =

Add your content here.  Format your content with:
  * Text in *bold* or _italic_
  * Headings, paragraphs, and lists
  * Automatic links to other wiki pages